<div class="auth-container">
    <div class="auth-card">
        <h2>Restablecer Contraseña</h2>
        <p>Introduce tu nueva contraseña.</p>

        <form (ngSubmit)="onSubmit()" *ngIf="!isError || message !== 'Token inválido o no proporcionado.'">
            <div class="form-group">
                <label>Nueva Contraseña</label>
                <input type="password" [(ngModel)]="password" name="password" placeholder="Mínimo 6 caracteres"
                    required>
            </div>

            <div class="form-group">
                <label>Confirmar Contraseña</label>
                <input type="password" [(ngModel)]="confirmPassword" name="confirmPassword"
                    placeholder="Repite la contraseña" required>
            </div>

            <div class="message-box" [class.error]="isError" *ngIf="message">
                {{ message }}
            </div>

            <button type="submit" [disabled]="loading || !password || !confirmPassword" class="btn-primary">
                <span *ngIf="!loading">Cambiar Contraseña</span>
                <span *ngIf="loading" class="spinner"></span>
            </button>
        </form>

        <div *ngIf="isError && message === 'Token inválido o no proporcionado.'" class="error-state">
            <p>{{ message }}</p>
            <a routerLink="/login" class="btn-secondary">Volver al Login</a>
        </div>
    </div>
</div>